diff --git a/source/gps_test.c b/source/gps_test.c
index 91f3791..874449d 100644
--- a/source/gps_test.c
+++ b/source/gps_test.c
@@ -75,14 +75,14 @@ int main(int argv, char **argc)
     ret = gps_open("localhost", "2947", &GpsData);
     (void)gps_stream(&GpsData, WATCH_ENABLE | WATCH_NEWSTYLE, NULL);
 
-    timestamp_t PreviousTime = 0;
-    timestamp_t CurrentTime = 0;
+    timespec_t *PreviousTime = 0;
+    timespec_t *CurrentTime = 0;
     for (;;) {
 
         /* Put this in a loop with a call to a high resolution sleep () in it. */
         if (gps_waiting(&GpsData, 500000)) {
             //errno = 0;
-            if (gps_read(&GpsData) == -1) {
+            if (gps_read(&GpsData, NULL, 0) == -1) {
                 dprintf(1, "Read error\n");
                 //exit(1);
                 sleep(1);
